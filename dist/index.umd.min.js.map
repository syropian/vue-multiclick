{"version":3,"file":"index.umd.min.js","sources":["../src/index.js"],"sourcesContent":["const VueMulticlick = {\n  name: \"vue-multiclick\",\n  props: {\n    items: {\n      type: Array,\n      required: true\n    },\n    uid: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      selectedItems: [],\n      lastSelected: null\n    }\n  },\n  computed: {\n    selectedIndexes() {\n      return this.selectedItems.map(item => this.items.indexOf(item))\n    },\n    lastSelectedIndex() {\n      if (!this.lastSelected) {\n        return -1\n      } else {\n        return this.getItemIndex(this.lastSelected)\n      }\n    }\n  },\n  watch: {\n    selectedItems() {\n      this.$emit(\"selected\", this.selectedItems)\n    }\n  },\n  methods: {\n    itemClicked(item, $event = {}) {\n      if (($event.metaKey || $event.ctrlKey) && !$event.shiftKey) {\n        if (this.itemIsSelected(item)) {\n          this.removeFromSelection(item)\n        } else {\n          this.appendToSelection(item)\n        }\n      } else if ($event.shiftKey) {\n        this.setSelectedItemsFromLastSelected(item)\n      } else {\n        this.setSelectedItem(item)\n      }\n      this.lastSelected = item\n    },\n    setSelectedItem(item) {\n      this.selectedItems = [item]\n    },\n    setSelectedItems(items) {\n      this.selectedItems = items\n    },\n    setSelectedItemsFromLastSelected(item) {\n      const itemIndex = this.getItemIndex(item)\n      let itemsToSelect = []\n\n      if (!this.selectedItems.length) {\n        itemsToSelect = this.getItemsFromRange(0, itemIndex)\n      } else {\n        itemsToSelect = this.getItemsFromRange(this.lastSelectedIndex, itemIndex)\n      }\n      itemsToSelect.forEach(i => this.appendToSelection(i))\n    },\n    getItemsFromRange(start = 0, end = 0) {\n      const items = []\n      const low = Math.min(start, end)\n      const high = Math.max(start, end)\n\n      for (let i = low; i <= high; i++) {\n        items.push(this.items[i])\n      }\n\n      return items\n    },\n    appendToSelection(item) {\n      this.selectedItems = [...new Set(this.selectedItems.concat([item]))]\n    },\n    removeFromSelection(item) {\n      this.selectedItems = this.selectedItems.filter(i => i[this.uid] !== item[this.uid])\n    },\n    getItemIndex(item) {\n      return this.items.findIndex(i => {\n        return i[this.uid] === item[this.uid]\n      })\n    },\n    itemSelected(item) {\n      console.warn(\n        'The \"itemSelected\" method is deprecated in favour of \"itemIsSelected\" and will be removed in a future version.'\n      )\n      return this.itemIsSelected(item)\n    },\n    itemIsSelected(item) {\n      return this.selectedItems.some(i => i[this.uid] === item[this.uid])\n    },\n    selectAll() {\n      this.selectedItems = this.items\n    },\n    selectNone() {\n      this.selectedItems = []\n    }\n  },\n  render() {\n    return this.$scopedSlots.default({\n      selectedItems: this.selectedItems,\n      lastSelectedItem: this.lastSelected,\n      selectedIndexes: this.selectedIndexes,\n      lastSelectedIndex: this.lastSelectedIndex,\n      itemClicked: this.itemClicked,\n      setSelectedItem: this.setSelectedItem,\n      setSelectedItems: this.setSelectedItems,\n      setSelectedItemsFromLastSelected: this.setSelectedItemsFromLastSelected,\n      appendToSelection: this.appendToSelection,\n      removeFromSelection: this.removeFromSelection,\n      getItemIndex: this.getItemIndex,\n      getItemsFromRange: this.getItemsFromRange,\n      itemSelected: this.itemIsSelected,\n      itemIsSelected: this.itemIsSelected,\n      selectAll: this.selectAll,\n      selectNone: this.selectNone\n    })\n  }\n}\n\nif (typeof window !== \"undefined\" && window.Vue) {\n  window.Vue.component(VueMulticlick.name, VueMulticlick)\n}\n\nexport default VueMulticlick\n"],"names":["VueMulticlick","name","props","items","type","Array","required","uid","String","data","selectedItems","lastSelected","computed","selectedIndexes","this","map","item","_this","indexOf","lastSelectedIndex","getItemIndex","watch","$emit","methods","itemClicked","$event","metaKey","ctrlKey","shiftKey","setSelectedItemsFromLastSelected","setSelectedItem","itemIsSelected","removeFromSelection","appendToSelection","setSelectedItems","itemIndex","length","getItemsFromRange","forEach","i","_this2","start","end","low","Math","min","high","max","push","Set","concat","filter","_this3","findIndex","_this4","itemSelected","console","warn","some","_this5","selectAll","selectNone","render","$scopedSlots","default","lastSelectedItem","window","Vue","component"],"mappings":"whBAAA,IAAMA,EAAgB,CACpBC,KAAM,iBACNC,MAAO,CACLC,MAAO,CACLC,KAAMC,MACNC,UAAU,GAEZC,IAAK,CACHH,KAAMI,OACNF,UAAU,IAGdG,sBACS,CACLC,cAAe,GACfC,aAAc,OAGlBC,SAAU,CACRC,6CACSC,KAAKJ,cAAcK,IAAI,SAAAC,UAAQC,EAAKd,MAAMe,QAAQF,MAE3DG,oCACOL,KAAKH,aAGDG,KAAKM,aAAaN,KAAKH,eAFtB,IAMdU,MAAO,CACLX,8BACOY,MAAM,WAAYR,KAAKJ,iBAGhCa,QAAS,CACPC,qBAAYR,OAAMS,yDAAS,IACpBA,EAAOC,UAAWD,EAAOE,SAAaF,EAAOG,SAMvCH,EAAOG,cACXC,iCAAiCb,QAEjCc,gBAAgBd,GARjBF,KAAKiB,eAAef,QACjBgB,oBAAoBhB,QAEpBiB,kBAAkBjB,QAOtBL,aAAeK,GAEtBc,yBAAgBd,QACTN,cAAgB,CAACM,IAExBkB,0BAAiB/B,QACVO,cAAgBP,GAEvB0B,0CAAiCb,cACzBmB,EAAYrB,KAAKM,aAAaJ,IAG/BF,KAAKJ,cAAc0B,OAGNtB,KAAKuB,kBAAkBvB,KAAKK,kBAAmBgB,GAF/CrB,KAAKuB,kBAAkB,EAAGF,IAI9BG,QAAQ,SAAAC,UAAKC,EAAKP,kBAAkBM,MAEpDF,qCAAkBI,yDAAQ,EAAGC,yDAAM,EAC3BvC,EAAQ,GACRwC,EAAMC,KAAKC,IAAIJ,EAAOC,GACtBI,EAAOF,KAAKG,IAAIN,EAAOC,GAEpBH,EAAII,EAAKJ,GAAKO,EAAMP,IAC3BpC,EAAM6C,KAAKlC,KAAKX,MAAMoC,WAGjBpC,GAET8B,2BAAkBjB,QACXN,gBAAoB,IAAIuC,IAAInC,KAAKJ,cAAcwC,OAAO,CAAClC,OAE9DgB,6BAAoBhB,mBACbN,cAAgBI,KAAKJ,cAAcyC,OAAO,SAAAZ,UAAKA,EAAEa,EAAK7C,OAASS,EAAKoC,EAAK7C,QAEhFa,sBAAaJ,qBACJF,KAAKX,MAAMkD,UAAU,SAAAd,UACnBA,EAAEe,EAAK/C,OAASS,EAAKsC,EAAK/C,QAGrCgD,sBAAavC,UACXwC,QAAQC,KACN,kHAEK3C,KAAKiB,eAAef,IAE7Be,wBAAef,qBACNF,KAAKJ,cAAcgD,KAAK,SAAAnB,UAAKA,EAAEoB,EAAKpD,OAASS,EAAK2C,EAAKpD,QAEhEqD,0BACOlD,cAAgBI,KAAKX,OAE5B0D,2BACOnD,cAAgB,KAGzBoD,yBACShD,KAAKiD,aAAaC,QAAQ,CAC/BtD,cAAeI,KAAKJ,cACpBuD,iBAAkBnD,KAAKH,aACvBE,gBAAiBC,KAAKD,gBACtBM,kBAAmBL,KAAKK,kBACxBK,YAAaV,KAAKU,YAClBM,gBAAiBhB,KAAKgB,gBACtBI,iBAAkBpB,KAAKoB,iBACvBL,iCAAkCf,KAAKe,iCACvCI,kBAAmBnB,KAAKmB,kBACxBD,oBAAqBlB,KAAKkB,oBAC1BZ,aAAcN,KAAKM,aACnBiB,kBAAmBvB,KAAKuB,kBACxBkB,aAAczC,KAAKiB,eACnBA,eAAgBjB,KAAKiB,eACrB6B,UAAW9C,KAAK8C,UAChBC,WAAY/C,KAAK+C,qBAKD,oBAAXK,QAA0BA,OAAOC,KAC1CD,OAAOC,IAAIC,UAAUpE,EAAcC,KAAMD"}